# ТехноТест Профильное Задание

Здесь представлено задание по созданию REST API сервиса, отслеживающего выполнение заданий пользователями и начисляющий награды за их выполнение. Сервис написан на Go и использует PostgreSQL в качестве базы данных, Gin в качестве фреймворка.

## Запуск приложения

Для запуска сервиса необходимо установить Docker и Docker Compose.

1. Клонируйте репозиторий:

```bash
git clone https://github.com/meligera/tech-test-vk.git

cd tech-test-vk
```

2. Запустите контейнеры Docker:

```bash
docker-compose up -d
```

Это запустит контейнеры для сервиса и базы данных PostgreSQL. База данных будет проинициализирована с помощью `init.sql` при первом запуске.

3. Сервис будет доступен по адресу [`http://localhost:8080`](http://localhost:8080).

## API

### Создание пользователя

* URL: `/create_user`
* Метод: `POST`
* Тело запроса:
```json
{
  "name": "имя пользователя",
  "balance": 0
}
```
#### Ответы:
* 200 OK: Пользователь успешно создан.
* 400 Bad Request: Ошибка в данных запроса. (такой пользователь уже создан)
* 500 Internal Server Error: Внутренняя ошибка сервера.

___
### Создание задания

* URL: `/create_quest`
* Метод: POST
* Тело запроса:
```json
{
  "name": "название задания",
  "cost": 0
}
```
#### Ответы:
* 200 OK: Задание успешно создано.
* 400 Bad Request: Ошибка в данных запроса. (такое задание уже создано)
* 500 Internal Server Error: Внутренняя ошибка сервера.

___
### Выполнения задания

* URL: `/complete`
* Метод: POST
* Тело запроса:
```json
{
  "user_id": 1,
  "quest_id": 1
}
```
#### Ответы:
* 200 OK: Задание успешно выполнено.
* 400 Bad Request: Ошибка в данных запроса. (задание уже было выполено пользователем)
* 500 Internal Server Error: Внутренняя ошибка сервера.

___
### Получение истории пользователя

* URL: `/history/:userId`
* Метод: GET

#### Ответы:
* 200 OK: Возвращает имя пользователя, баланс и список завершенных квестов.
* 500 Internal Server Error: Внутренняя ошибка сервера.

___
### Получение списка всех пользователей

* URL: `/users`
* Метод: GET

#### Ответы:
* 200 OK: Возвращает список всех пользователей с их именами и балансами.
* 500 Internal Server Error: Внутренняя ошибка сервера.

___
### Получение списка всех заданий

* URL: `/quests`
* Метод: GET

#### Ответы:
* 200 OK: Возвращает список всех заданий с их названиями и стоимостью.
* 500 Internal Server Error: Внутренняя ошибка сервера.